<div class="boxReport">
  <div class="buttonBoxReport">
    <div class="dropdown">
      <button class="projectButtonBillingComponentCon" (click)="restCall()">View Report</button>
    </div>

    <div class="dropdown">
      <button *ngIf="selectedConsultant === undefined" class="projectButtonBillingComponentCon">Choose Consultant</button>
      <button *ngIf="selectedConsultant !== undefined" class="projectButtonBillingComponentCon" (click)="selectedConsultant = undefined">{{selectedConsultant.Title}}</button>

      <ul class="dropdown-content" id="reportConsultant" *ngIf="userService.users?.length > 0">
        <li *ngFor="let user of userService.users" (click)="selectConsultant(user)">
          {{user.Title}}
        </li>
      </ul>
    </div>

    <div class="dropdown">
      <button *ngIf="selectedProject === undefined" class="projectButtonBillingComponent">Choose Project</button>
      <button *ngIf="selectedProject !== undefined" class="projectButtonBillingComponent" (click)="selectedProject = undefined">{{selectedProject.name}}</button>

      <ul class="dropdown-content" id="reportProject">
        <li *ngFor="let project of projectsService.projects" (click)="selectProject(project)">
          {{ project.name }}
        </li>
      </ul>
    </div>

    <div class="dropdown">
      <button *ngIf="selectedMonth === undefined" class="projectButtonBillingComponent">Choose Month</button>
      <button *ngIf="selectedMonth !== undefined" class="projectButtonBillingComponent" (click)="selectedMonth = undefined">
        {{ weekService.monthNamesLarge[selectedMonth] }}</button>
      <ul class="dropdown-content" id="reportMonth">

        <li *ngFor="let monthName of weekService.monthNamesLarge" (click)="selectMonth(monthName)">
          {{ monthName }}
        </li>
      </ul>
    </div>

    <div class="dropdown">
      <button *ngIf="selectedYear === undefined" class="projectButtonBillingComponent">{{weekService.year[1]}}</button>
      <button *ngIf="selectedYear !== undefined" class="projectButtonBillingComponent" (click)="selectedYear = weekService.year[1]">{{selectedYear}}</button>
      <ul class="dropdown-content" id="reportYear">

        <li *ngFor="let yearName of weekService.year" (click)="yearNameList(yearName)">
          {{ yearName }}
        </li>
      </ul>
    </div>

  </div>
</div>

<div class="boxReportBody">
  <br />
  <br />
  <div id="boxReportBodyText">
    <div *ngIf="selectedConsultant !== undefined">Consultant: {{selectedConsultant.Title}} </div>
    <div *ngIf="selectedProject !== undefined">Project: {{selectedProject.name}} </div>
    <div *ngIf="selectedMonth !== undefined">Month: {{this.weekService.monthNamesLarge[selectedMonth]}} </div>
    <div *ngIf="filteredItems !== undefined">Total Hours: {{getSumTotalMonth()}} </div>
    <div>--------------------------------------------------------------</div>

    <ul *ngIf="summarizedItems !== undefined" style="list-style:none">
      <li *ngFor="let item of summarizedItems">
        <br />
        <span *ngIf="selectedConsultant === undefined" style="font-weight: bold;">{{ item.Title }}</span>
        <div *ngFor="let proj of item.projArray" style=" left: 20px;position: relative;">
          <span *ngIf="proj.hoursTotal > 0">
            {{ proj.name }}: {{ proj.hoursTotal }}h
          </span>
        </div>
      </li>
    </ul>
    
  </div>
  <br />
  <br />
</div>
